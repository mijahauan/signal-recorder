# Signal Recorder Configuration Example
# Updated to use direct scipy-based recording (no pcmrecord dependency)

[station]
# Unique identifier for your station (e.g., PSWS001)
id = "PSWS001"

# Instrument ID (usually 1)
instrument_id = "1"

# Your callsign
callsign = "AI6VN"

# Your Maidenhead grid square
grid_square = "CM87"

# Station coordinates
latitude = 37.7749
longitude = -122.4194

[ka9q]
# ka9q-radio status address for channel management
status_address = "239.251.200.193"

# Enable automatic channel creation
auto_create_channels = true

[recorder]
# Directory to store recorded and processed data
archive_dir = "/var/lib/signal-recorder/archive"

# List of channels to record (new format - replaces streams)
[[recorder.channels]]
ssrc = 2500000
frequency_hz = 2500000
preset = "iq"
sample_rate = 12000
description = "WWV 2.5 MHz"
enabled = true
processor = "grape"

[[recorder.channels]]
ssrc = 5000000
frequency_hz = 5000000
preset = "iq"
sample_rate = 12000
description = "WWV 5 MHz"
enabled = true
processor = "grape"

[[recorder.channels]]
ssrc = 10000000
frequency_hz = 10000000
preset = "iq"
sample_rate = 12000
description = "WWV 10 MHz"
enabled = true
processor = "grape"

[[recorder.channels]]
ssrc = 15000000
frequency_hz = 15000000
preset = "iq"
sample_rate = 12000
description = "WWV 15 MHz"
enabled = true
processor = "grape"

[[recorder.channels]]
ssrc = 20000000
frequency_hz = 20000000
preset = "iq"
sample_rate = 12000
description = "WWV 20 MHz"
enabled = true
processor = "grape"

[[recorder.channels]]
ssrc = 25000000
frequency_hz = 25000000
preset = "iq"
sample_rate = 12000
description = "WWV 25 MHz"
enabled = true
processor = "grape"

# CHU channels
[[recorder.channels]]
ssrc = 3330000
frequency_hz = 3330000
preset = "iq"
sample_rate = 12000
description = "CHU 3.33 MHz"
enabled = true
processor = "grape"

[[recorder.channels]]
ssrc = 7850000
frequency_hz = 7850000
preset = "iq"
sample_rate = 12000
description = "CHU 7.85 MHz"
enabled = true
processor = "grape"

[[recorder.channels]]
ssrc = 14670000
frequency_hz = 14670000
preset = "iq"
sample_rate = 12000
description = "CHU 14.67 MHz"
enabled = true
processor = "grape"

[processor.grape]
# GRAPE processing configuration
enabled = true
target_sample_rate = 10  # Hz
output_format = "digital_rf"

[upload]
# Upload protocol (ssh_rsync or none)
protocol = "ssh_rsync"

# Remote host for upload
host = "pswsnetwork.eng.ua.edu"

# Remote user
user = "grape"

# Base path on remote server
base_path = "/data/uploads"

# Maximum number of upload retries
max_retries = 5

# Base for exponential backoff (in minutes)
retry_backoff_base = 2

# Upload timeout in seconds
timeout = 3600

# Path to upload queue file
queue_file = "/var/lib/signal-recorder/upload_queue.json"

# SSH configuration
[upload.ssh]
# Path to SSH private key for passwordless login
key_file = "/home/user/.ssh/id_rsa_grape"

